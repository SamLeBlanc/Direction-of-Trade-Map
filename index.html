<!DOCTYPE html>
<meta charset="utf-8">

<head>
  <!-- Assets -->
  <script src="assets/d3.v6.js"></script>
  <script src="assets/d3-legend.min.js"></script>

  <!-- Scripts -->
  <script src="index.js"></script>
  <script src="scripts/hotkeys.js"></script>
  <script src="scripts/zoom.js"></script>
  <script src="scripts/links.js"></script>
  <script src="scripts/capitals.js"></script>
  <script src="scripts/countries.js"></script>
  <script src="scripts/water.js"></script>
  <script src="scripts/legend.js"></script>

  <!-- Styles -->
  <link rel="stylesheet" href="styles/style.css">

  <!-- Rubik font from Google -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@900&display=swap" rel="stylesheet">

  <script src="assets/jquery-1.12.4.js"></script>
  <script src="assets/jquery-ui.js"></script>

  <link rel="stylesheet" href="assets/jquery-ui.css">
</head>

<body>
<div class="settings">
  <div>
    <select name="direction-select" id="direction-select" onchange="if (lonks) lonks.remove();">
      <option value="import">Imports</option>
      <option value="export">Exports</option>
      <option value="net">Net Exports</option>
    </select>
  </div>
  <div>
    <input type="checkbox" id="links-checkbox" name="Links" value="Links" onclick="draw()">
    <label for="Links">Links</label>
    <input id="links-number" type="number" value="5" style="width:40px">
  </div>
  <div>
    <input type="checkbox" id="capitals-checkbox" name="Capitals" value="Capitals" onclick="draw()">
    <label for="Capitals">Capitals</label><br>
  </div>
</div>

<div class="heading">
  <div class="title">
    <span id="title-country">Worldwide</span>
    <span id="title-direction">Imports</span>
  </div>
  <div class="info">
    <div id="info-1"></div>
    <div id="info-2"></div>
  </div>
</div>

<div id="wrapper" style="position: fixed; top: 70px;">
  <!-- SVG will live here -->
</div>

<script>

// Calculate SVG dimensions
const width = window.innerWidth-40
const height = width/2

// Define the SVG inside of the wrapper
const svg = d3.select("#wrapper")
.append("svg")
.attr("width", width)
.attr("height", height)
.call(zoom);

// Create two high-level groups, for the water and land components, respectively
const ocean = svg.append("g");
const land = svg.append("g");

// Define the map projection and scale, then translate to proper position
const projection = d3.geoEqualEarth()
.scale(Math.min(0.55*width/ Math.PI, 0.55*width/ Math.PI))
.translate([width/2, height/2])

// Define path generator based on map projection
const path = d3.geoPath().projection(projection)

initializeHotkeys()
loadData()

  </script>
